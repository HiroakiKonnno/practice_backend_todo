openapi: 3.0.3

info:
  title: todo API
  description: TodoアプリのAPIドキュメント
  version: 1.0.0

servers:
  - url: http://localhost:3000/api/v1
    description: Development server

tags:
  - name: Task
    description: タスクに関するエンドポイント

paths:
  /tasks:
    get:
      summary: 全てのタスクを取得
      tags:
        - Task
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: integer
                    title:
                      type: string
                    content:
                      type: string
                    created_at:
                      type: string
                      format: date-time
                    update_at:
                      type: string
                      format: date-time
                example:
                  - id: 1
                    title: 新規タスクの作成
                    content: 新規タスクを作成する
                    created_at: "2025-02-01T00:00:00Z"
                    update_at: "2025-02-01T00:00:00Z"
    post:
      summary: タスクの新規作成
      tags:
        - Task
      responses:
        "201":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: integer
                  title:
                    type: string
                  content:
                    type: string
                  created_at:
                    type: string
                    format: date-time
                  update_at:
                    type: string
                    format: date-time

        "500":
          description: サーバー側の処理で問題が発生した

        "502":
          description: 意図しないパラメータがリクエストされた

  /tasks/{id}:
    get:
      summary: タスクの詳細を取得
      tags:
        - Task
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: integer
                  title:
                    type: string
                  content:
                    type: string
                  created_at:
                    type: string
                    format: date-time
                  update_at:
                    type: string
                    format: date-time
                example:
                  - id: 1
                    title: 新規タスクの作成
                    content: 新規タスクを作成する
                    created_at: "2025-02-01T00:00:00Z"
                    update_at: "2025-02-01T00:00:00Z"

        "500":
          description: サーバー側の処理で問題が発生した

        "502":
          description: 意図しないパラメータがリクエストされた
    put:
      summary: 各タスクの内容を更新
      tags:
        - Task
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          description: 一つのタスクを更新する
          content:
            application/json:
              schema:
                type: object
        "500":
          description: サーバー側の処理で問題が発生した
        "502":
          description: 意図しないパラメータがリクエストされた
    delete:
      summary: 各タスクを削除
      tags:
        - Task
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          description: 一つのタスクを削除する

        "500":
          description: サーバー側の処理で問題が発生した

        "502":
          description: 意図しないパラメータがリクエストされた
